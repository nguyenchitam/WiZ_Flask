{% extends 'layout.html' %}
{% block body %}
<h3 class='text-center text-muted mb-3'>WiZ Flask</h3>
<p class='text-right'>Total: {{bulbs|length}} <a href='{{url_for("scan")}}' class='btn btn-success'>Scan</a></p>
<table class='table'>
    <thead class="thead-dark">
    <th>Bulb</th>
    <th>
        <a href='{{url_for("on",ip="all")}}' class='mb-1 btn btn-success'><i class="bi bi-lightbulb-fill"></i></a>
        <a href='{{url_for("off",ip="all")}}' class='mb-1 btn btn-danger'><i class="bi bi-lightbulb"></i></a>
    </th>
    <th>
        <a href='{{url_for("scene",ip="all",no=4)}}' class='mb-1 btn btn-primary'><i class="bi bi-recycle"></i></a>
        <a href='{{url_for("scene",ip="all",no=27)}}' class='mb-1 btn btn-success'><i class="bi bi-tree-fill"></i></a>
        <a href='{{url_for("scene",ip="all",no=5)}}' class='mb-1 btn btn-warning'><i class="bi bi-fire"></i></a>
        <a href='{{url_for("scene",ip="all",no=11)}}' class='mb-1 btn btn-warning'><i class="bi bi-lightbulb-fill"></i></a>
        <a href='{{url_for("scene",ip="all",no=12)}}' class='mb-1 btn btn-light'><i class="bi bi-sun-fill"></i></a>
        <a href='{{url_for("scene",ip="all",no=14)}}' class='mb-1 btn btn-dark'><i class="bi bi-moon-fill"></i></a>
    </th>
    </thead>
    <tbody>
    {% for bulb in bulbs %}
    <tr>
        <td><a href='{{url_for("edit_bulb",ip=bulb.IP)}}'><b>{{bulb.NAME}}</b></a>
            {% if bulb.IP != bulb.NAME %}
            <br/>{{bulb.IP}}
            {% endif %}
        </td>
        <td>
            {% if bulb.STATE < 0 %}
            <a href='{{url_for("on",ip=bulb.IP)}}' class='mb-1 btn btn-secondary'><i
                    class="bi bi-lightbulb-off-fill"></i></a>
            {% elif bulb.STATE == 0 %}
            <a href='{{url_for("on",ip=bulb.IP)}}' class='mb-1 btn btn-danger'><i class="bi bi-lightbulb"></i></a>
            {% else %}
            <a href='{{url_for("off",ip=bulb.IP)}}' class='mb-1 btn btn-success'><i class="bi bi-lightbulb-fill"></i></a>
            {{bulb.SCENE}}
            {% endif %}
        </td>
        <td>
            <a href='{{url_for("scene",ip=bulb.IP,no=4)}}' class='mb-1 btn btn-primary'><i class="bi bi-recycle"></i></a>
            <a href='{{url_for("scene",ip=bulb.IP,no=27)}}' class='mb-1 btn btn-success'><i class="bi bi-tree-fill"></i></a>
            <a href='{{url_for("scene",ip=bulb.IP,no=5)}}' class='mb-1 btn btn-warning'><i class="bi bi-fire"></i></a>
            <a href='{{url_for("scene",ip=bulb.IP,no=11)}}' class='mb-1 btn btn-warning'><i class="bi bi-lightbulb-fill"></i></a>
            <a href='{{url_for("scene",ip=bulb.IP,no=12)}}' class='mb-1 btn btn-light'><i class="bi bi-sun-fill"></i></a>
            <a href='{{url_for("scene",ip=bulb.IP,no=14)}}' class='mb-1 btn btn-dark'><i class="bi bi-moon-fill"></i></a>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}